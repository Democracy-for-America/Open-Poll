<% unless params[:drag] == 'false' %>
  <!-- Drag and drop form -->
  <% if @vote.errors.any? || params['s'] || params['r'] || params['hash'] %>
    <%= render 'drop_div' %>
    <div id="red-ribbon" class="red-gradient ribbon" style="height: 36px; box-shadow: 0px 5px 10px #999;">
      <h3 style="display: none;"></h3>
    </div>
    <div style="margin: 32px auto 0;">
    <%= render 'candidates' %>
  <% else %>
    <% cache("candidiates/#{@poll.id}", expires_in: 5.minutes) do %>
      <%= render 'drop_div' %>
      <div id="red-ribbon" class="red-gradient ribbon" style="height: 36px; box-shadow: 0px 5px 10px #999;">
        <h3 style="display: none;"></h3>
      </div>
      <div style="margin: 32px auto 0;">
      <%= render 'candidates' %>
    <% end %>
  <% end %>
  <%= render 'form' %>
  </div>
<% else %>
  <!-- Non-visual form for folks with screen readers & those experiencing difficulties with the interface -->
  <%= render 'non_visual' %>
<% end %>